<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flor Interactiva</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e22ce 100%);
            overflow: hidden;
        }

        .contenedor {
            position: relative;
            width: 400px;
            height: 400px;
        }

        .centro {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ffd700 0%, #ff8c00 100%);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            box-shadow: 0 5px 20px rgba(255,215,0,0.6), inset 0 -5px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .centro:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }

        .centro::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.4) 0%, transparent 50%);
        }

        .petalo {
            position: absolute;
            width: 100px;
            height: 140px;
            background: linear-gradient(135deg, #c084fc 0%, #a855f7 100%);
            border-radius: 50% 50% 50% 0;
            top: 50%;
            left: 50%;
            transform-origin: center bottom;
            opacity: 0;
            box-shadow: inset -10px -10px 20px rgba(0,0,0,0.2);
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
        }

        @keyframes crecerPetalo {
            0% {
                opacity: 0;
                transform: translate(-50%, -100%) scale(0) rotate(var(--rotation));
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -100%) scale(1) rotate(var(--rotation));
            }
        }

        @keyframes volar {
            0% {
                opacity: 1;
                transform: translate(-50%, -100%) scale(1) rotate(var(--rotation));
            }
            100% {
                opacity: 0;
                transform: translate(var(--flyX), var(--flyY)) scale(0.5) rotate(calc(var(--rotation) + 180deg));
            }
        }

        .texto-amor {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 80px;
            font-weight: bold;
            color: #ff1744;
            text-shadow: 0 0 20px rgba(255,23,68,0.8),
                         0 0 40px rgba(255,23,68,0.6),
                         4px 4px 8px rgba(0,0,0,0.5);
            opacity: 0;
            z-index: 20;
            font-family: 'Arial Black', sans-serif;
            letter-spacing: 5px;
        }

        @keyframes apareceTexto {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.3);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .corazon {
            position: absolute;
            width: 20px;
            height: 20px;
            opacity: 0;
        }

        .corazon::before,
        .corazon::after {
            content: "";
            position: absolute;
            width: 20px;
            height: 32px;
            background: #ff1744;
            border-radius: 20px 20px 0 0;
        }

        .corazon::before {
            left: 10px;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }

        .corazon::after {
            left: 0;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }

        @keyframes flotarCorazon {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) translateY(0) scale(0);
            }
            20% {
                opacity: 1;
                transform: translate(-50%, -50%) translateY(-20px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) translateY(-150px) scale(0.5);
            }
        }
    </style>
</head>
<body>
    <div class="contenedor" id="contenedor">
        <div class="centro" id="centro" onclick="iniciarAnimacion()"></div>
        <div class="texto-amor" id="textoAmor">TE AMO</div>
    </div>

    <script>
        let animacionIniciada = false;

        function iniciarAnimacion() {
            if (animacionIniciada) return;
            animacionIniciada = true;

            const contenedor = document.getElementById('contenedor');
            const centro = document.getElementById('centro');
            const textoAmor = document.getElementById('textoAmor');
            
            centro.style.pointerEvents = 'none';

            const numPetalos = 9;
            const petalos = [];

            for (let i = 0; i < numPetalos; i++) {
                const petalo = document.createElement('div');
                petalo.className = 'petalo';
                const rotacion = i * 40;
                petalo.style.setProperty('--rotation', rotacion + 'deg');
                contenedor.appendChild(petalo);
                petalos.push(petalo);

                setTimeout(() => {
                    petalo.style.animation = 'crecerPetalo 0.6s ease-out forwards';
                }, i * 300);
            }

            setTimeout(() => {
                petalos.forEach((petalo, index) => {
                    const angulo = (index * 40) * Math.PI / 180;
                    const distancia = 400 + Math.random() * 200;
                    const flyX = Math.cos(angulo) * distancia + 'px';
                    const flyY = Math.sin(angulo) * distancia + 'px';
                    
                    petalo.style.setProperty('--flyX', flyX);
                    petalo.style.setProperty('--flyY', flyY);
                    
                    setTimeout(() => {
                        petalo.style.animation = 'volar 1s ease-in forwards';
                    }, index * 50);
                });

                setTimeout(() => {
                    centro.style.opacity = '0';
                    centro.style.transition = 'opacity 0.5s';
                }, 400);

                setTimeout(() => {
                    textoAmor.style.animation = 'apareceTexto 1s ease-out forwards';
                    
                    for (let i = 0; i < 15; i++) {
                        setTimeout(() => {
                            crearCorazon();
                        }, i * 200);
                    }
                    
                    setTimeout(() => {
                        window.location.href = 'https://www.canva.com/design/DAG6nXNihdU/view';
                    }, 3000);
                }, 1200);
            }, numPetalos * 300 + 800);
        }

        function crearCorazon() {
            const corazon = document.createElement('div');
            corazon.className = 'corazon';
            const contenedor = document.getElementById('contenedor');
            
            const angulo = Math.random() * 360;
            const radio = 150 + Math.random() * 50;
            const x = 200 + Math.cos(angulo * Math.PI / 180) * radio;
            const y = 200 + Math.sin(angulo * Math.PI / 180) * radio;
            
            corazon.style.left = x + 'px';
            corazon.style.top = y + 'px';
            
            contenedor.appendChild(corazon);
            
            corazon.style.animation = 'flotarCorazon 2s ease-out forwards';
            
            setTimeout(() => {
                corazon.remove();
            }, 2000);
        }
    </script>
</body>
</html>